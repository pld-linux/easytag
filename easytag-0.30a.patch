diff -ruN easytag-0.30/configure easytag-0.30a/configure
--- easytag-0.30/configure	Sun Sep  7 11:36:27 2003
+++ easytag-0.30a/configure	Sat Sep 27 20:36:48 2003
@@ -1,6 +1,6 @@
 #! /bin/sh
 # Guess values for system-dependent variables and create Makefiles.
-# Generated by GNU Autoconf 2.53 for easytag 0.30.
+# Generated by GNU Autoconf 2.53 for easytag 0.30a.
 #
 # Copyright 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001, 2002
 # Free Software Foundation, Inc.
@@ -412,8 +412,8 @@
 # Identity of this package.
 PACKAGE_NAME='easytag'
 PACKAGE_TARNAME='easytag'
-PACKAGE_VERSION='0.30'
-PACKAGE_STRING='easytag 0.30'
+PACKAGE_VERSION='0.30a'
+PACKAGE_STRING='easytag 0.30a'
 PACKAGE_BUGREPORT=''
 
 ac_unique_file="src/easytag.h"
@@ -918,7 +918,7 @@
   # Omit some internal or obsolete options to make the list less imposing.
   # This message is too long to be a string in the A/UX 3.1 sh.
   cat <<_ACEOF
-\`configure' configures easytag 0.30 to adapt to many kinds of systems.
+\`configure' configures easytag 0.30a to adapt to many kinds of systems.
 
 Usage: $0 [OPTION]... [VAR=VALUE]...
 
@@ -984,7 +984,7 @@
 
 if test -n "$ac_init_help"; then
   case $ac_init_help in
-     short | recursive ) echo "Configuration of easytag 0.30:";;
+     short | recursive ) echo "Configuration of easytag 0.30a:";;
    esac
   cat <<\_ACEOF
 
@@ -1092,7 +1092,7 @@
 test -n "$ac_init_help" && exit 0
 if $ac_init_version; then
   cat <<\_ACEOF
-easytag configure 0.30
+easytag configure 0.30a
 generated by GNU Autoconf 2.53
 
 Copyright 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001, 2002
@@ -1107,7 +1107,7 @@
 This file contains any messages produced by compilers while
 running configure, to aid debugging if configure makes a mistake.
 
-It was created by easytag $as_me 0.30, which was
+It was created by easytag $as_me 0.30a, which was
 generated by GNU Autoconf 2.53.  Invocation command line was
 
   $ $0 $@
@@ -1639,7 +1639,7 @@
 
 # Define the identity of the package.
  PACKAGE=easytag
- VERSION=0.30
+ VERSION=0.30a
 
 
 cat >>confdefs.h <<_ACEOF
@@ -12653,7 +12653,7 @@
 } >&5
 cat >&5 <<_CSEOF
 
-This file was extended by easytag $as_me 0.30, which was
+This file was extended by easytag $as_me 0.30a, which was
 generated by GNU Autoconf 2.53.  Invocation command line was
 
   CONFIG_FILES    = $CONFIG_FILES
@@ -12715,7 +12715,7 @@
 
 cat >>$CONFIG_STATUS <<_ACEOF
 ac_cs_version="\\
-easytag config.status 0.30
+easytag config.status 0.30a
 configured by $0, generated by GNU Autoconf 2.53,
   with options \\"`echo "$ac_configure_args" | sed 's/[\\""\`\$]/\\\\&/g'`\\"
 
diff -ruN easytag-0.30/configure.in easytag-0.30a/configure.in
--- easytag-0.30/configure.in	Sun Sep  7 11:30:52 2003
+++ easytag-0.30a/configure.in	Sat Sep 27 20:36:16 2003
@@ -6,7 +6,7 @@
 dnl VERSION=0.28
 
 AC_PREREQ(2.53)
-AC_INIT(easytag, 0.30) dnl defines ($PACKAGE, $VERSION)
+AC_INIT(easytag, 0.30a) dnl defines ($PACKAGE, $VERSION)
 AC_CONFIG_SRCDIR(src/easytag.h)
 dnl -------------------------------
 dnl Init automake
diff -ruN easytag-0.30/easytag.spec easytag-0.30a/easytag.spec
--- easytag-0.30/easytag.spec	Sun Sep  7 11:36:43 2003
+++ easytag-0.30a/easytag.spec	Sat Sep 27 20:36:01 2003
@@ -1,5 +1,5 @@
 %define    name      easytag
-%define    version   0.30
+%define    version   0.30a
 %define    release   1
 %define    prefix    /usr
 
diff -ruN easytag-0.30/src/scan.c easytag-0.30a/src/scan.c
--- easytag-0.30/src/scan.c	Sat Sep  6 22:14:57 2003
+++ easytag-0.30a/src/scan.c	Sat Sep 27 20:35:32 2003
@@ -673,15 +673,6 @@
 
     if (!ETFile || !mask) return NULL;
 
-    /* Replace characters */
-    if (CONVERT_UNDERSCORE_AND_P20_INTO_SPACE)
-    {
-        Scan_Convert_Underscore_Into_Space(mask);
-        Scan_Convert_P20_Into_Space(mask);
-    }
-    if (CONVERT_SPACE_INTO_UNDERSCORE)
-        Scan_Convert_Space_Into_Undescore(mask);
-
 
     /*
      * Parse the codes to generate a list (1rst item = 1rst code)
@@ -799,6 +790,15 @@
     // Free the list
     Scan_Free_File_Rename_List(rename_file_list);
 
+    /* Replace characters */
+    if (CONVERT_UNDERSCORE_AND_P20_INTO_SPACE)
+    {
+        Scan_Convert_Underscore_Into_Space(filename_new);
+        Scan_Convert_P20_Into_Space(filename_new);
+    }
+    if (CONVERT_SPACE_INTO_UNDERSCORE)
+        Scan_Convert_Space_Into_Undescore(filename_new);
+
     return filename_new;
 }
 
